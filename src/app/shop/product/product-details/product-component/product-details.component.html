<!-- breadcrumb start -->
<div class="breadcrumb-section">
  <div class="container">
    <div class="row">
      <div class="col-sm-6">
        <div class="page-title">
          <h2>product</h2>
        </div>
      </div>
      <div class="col-sm-6">
        <nav aria-label="breadcrumb" class="theme-breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a [routerLink]="'/home/one'">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">product</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</div>
<!-- breadcrumb End -->
<!-- section start -->
<section class="section-b-space" *ngIf="product">
  <div class="collection-wrapper">
    <div class="container">
      <div class="row">
        <div class="col-sm-3 collection-filter">
          <product-details-sidebar [categories]="product.parent_categories"></product-details-sidebar>
        </div>
        <div class="col-lg-9 col-sm-12 col-xs-12">
          <div class="container-fluid">
            <div class="row">
              <div class="col-xl-12">
                <div class="filter-main-btn mb-2">
                  <span class="filter-btn" (click)="mobileSidebar()"><i class="fa fa-bars" aria-hidden="true"></i> sidebar</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-6">
                <ngx-slick-carousel class="product-slick" id="p-zoom" #slickModal="slick-carousel" [config]="slideConfig">
                  <div ngxSlickItem *ngFor="let image of product.pictures">
                    <div>
                      <!-- <img [src]="image" alt="" class="img-fluid"> -->
                      <ngx-img-zoom [imgSrc]="image" imgStyle="width:100%; height:100%;" resultStyle="background-repeat: no-repeat; z-index: 2; position:absolute;
                      background-size: 1614px 2064px;
                                   -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
                                    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); top: 0;left: 100%;" lensStyle="width:100px; height:100px" containerStyle="position: relative;" (mouseover)="onMouseOver()" (mouseout)="onMouseOut()">
                      </ngx-img-zoom>
                    </div>
                  </div>
                </ngx-slick-carousel>
                <div class="row">
                  <div class="col-12 p-0">
                    <ngx-slick-carousel class="slider-nav" #slickModal="slick-carousel" [config]="slideNavConfig">
                      <div ngxSlickItem *ngFor="let image of product.pictures">
                        <div>
                          <img [src]="image" alt="" class="img-fluid">
                         </div>
                        </div>
                    </ngx-slick-carousel>
                  </div>
                </div>
              </div>
              <div class="col-lg-6 rtl-text">
                <div class="product-right">
                  <h2>{{product.name}}</h2>
                  <h3 *ngIf="!productsService?.catalogMode">
                    {{product.minimumPrice | currency:productsService?.currency:'symbol'}} - {{product.maximumPrice | currency:productsService?.currency:'symbol'}}
                  </h3>
                  <ul class="color-variant" *ngIf="product.variants && !productsService?.catalogMode">
                    <li [class]="variant.color" (click)="slickModal.slickGoTo(i)" *ngFor="let variant of product.variants;let i = index"></li>
                  </ul>
                  <h5 class="avalibility" *ngIf="stock.in_stock"><span>In Stock Of {{stock.storesCount}} Store{{stock.storesCount === 1 ? '' : 's'}}</span></h5>
                  <h5 class="avalibility" *ngIf="!stock.in_stock"><span>Out of Stock</span></h5>

                  <div class="border-product">
                    <h6 class="product-title">product details</h6>
                    <p>{{product.short_description}}</p>
                  </div>
                  <div class="border-product">
                    <h6 class="product-title">share it</h6>

                    <div class="product-icon">
                      <ul class="product-social">
                        <li><a href="https://www.facebook.com/"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="https://plus.google.com/discover"><i class="fa fa-google-plus"></i></a></li>
                        <li><a href="https://twitter.com/"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="https://www.instagram.com/"><i class="fa fa-instagram"></i></a></li>
                      </ul>
                      <div class="action-icons border-left">
                        <form class="d-inline-block" *ngIf="!productsService?.catalogMode">
                          <button class="wishlist-btn" (click)="addToWishlist(product)">
                            <i class="border-0 fa fa-heart"></i>
                            <span class="title-font">Add To WishList</span>
                          </button>
                        </form>
                        <form class="d-inline-block" *ngIf="!productsService?.catalogMode">
                          <button class="wishlist-btn" (click)="addToCompare()">
                            <i class="border-0 ti-reload"></i>
                            <span class="title-font">Add To Compare</span>
                          </button>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </div>
          <section class="tab-product m-0">
            <div class="row">
              <div class="col-sm-12 col-lg-12">
                <ul class="nav nav-tabs nav-material" id="top-tab" role="tablist">
                  <li class="nav-item active">
                    <a class="nav-link active show" id="details-top-tab" data-toggle="tab" href="#top-details" role="tab" aria-selected="true"><i class="icofont icofont-man-in-glasses"></i>Details</a>
                    <div class="material-border"></div>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="top-description-tab" data-toggle="tab" href="#top-description" role="tab" aria-selected="false">
                      <i class="icofont icofont-ui-home"></i>Description</a>
                    <div class="material-border"></div>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="stores-top-tab" data-toggle="tab" href="#top-stores" role="tab" aria-selected="false">
                    <i class="icofont icofont-contacts"></i>Stores</a>
                    <div class="material-border"></div>
                  </li>
                  <!--<li class="nav-item">-->
                    <!--<a class="nav-link" id="review-top-tab" data-toggle="tab" href="#top-review" role="tab" aria-selected="false">-->
                        <!--<i class="icofont icofont-contacts"></i>Write Review</a>-->
                    <!--<div class="material-border"></div>-->
                  <!--</li>-->
                </ul>
                <div class="tab-content nav-material" id="top-tabContent">
                  <div class="tab-pane fade show active" id="top-details" role="tabpanel" aria-labelledby="details-top-tab">
                    <div class="single-product-tables" *ngIf="filters.length">
                      <table class="w-100 table-striped">
                        <tbody>
                          <tr *ngFor="let filter of filters">
                            <td>{{filter.replace('_', ' ')}}</td>
                            <td>{{product.filter_options[filter]}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="top-description" role="tabpanel" aria-labelledby="top-description-tab">
                    <p>{{product.long_description}}</p>
                  </div>
                  <div class="tab-pane fade" id="top-stores" role="tabpanel" aria-labelledby="stores-top-tab">
                    <div class="mt-3 text-center">
                      <table class="stores-table w-100 table-striped">
                        <thead class="mb-2 border-bottom">
                          <tr class="d-flex align-items-center">
                            <th class="col px-2">Store</th>
                            <th class="col px-2">Stock</th>
                            <th class="col px-2">Price</th>
                            <th class="col px-2">Offer</th>
                            <th class="col px-2">Status</th>
                            <th class="col px-2">Warranty</th>
                            <th class="col px-2">Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="d-flex align-items-center mb-1" *ngFor="let store of stores">
                            <ng-container *ngIf="!store.stock">
                              <td class="text-left px-2 flex-grow-0">
                                <span>{{store.name}}</span>
                                <span [style.background-image]="'url(' + store.logo + ')'"></span>
                              </td>
                              <td class="text-danger text-center flex-grow-1">Out of Stock</td>
                            </ng-container>
                            <ng-container *ngIf="store.stock">
                              <td class="col text-left px-2">
                                <span>{{store.name}}</span>
                                <span [style.background-image]="'url(' + store.logo + ')'"></span>
                              </td>
                              <td class="col px-2">
                                <span class="text-success">In Stock</span>
                              </td>
                              <td class="col px-2">{{store.price + ' L.E'}}</td>
                              <td class="col px-2">{{store.offer}}</td>
                              <td class="col px-2">{{store.state}}</td>
                              <td class="col px-2">
                                <i class="text-success fa fa-shield fa-2x" *ngIf="store.warranty"></i>
                                <i class="fa fa-remove text-danger fa-2x" *ngIf="!store.warranty"></i>
                              </td>
                              <td class="col px-2 action-buttons d-flex justify-content-center align-items-center">
                                <span data-toggle="popover" data-trigger="hover" title="Dismissible popover" data-content="Add to Calculator">
                                  <a (click)="addToCart(store)">
                                    <i class="fa fa-calculator"></i>
                                  </a>
                                </span>
                              </td>
                            </ng-container>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="top-review" role="tabpanel" aria-labelledby="review-top-tab">
                    <form class="theme-form">
                      <div class="form-row">
                        <div class="col-md-12 ">
                          <div class="media">
                            <label>Rating</label>
                            <div class="media-body ml-3">
                              <div class="rating three-star">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <label for="name">Name</label>
                          <input type="text" class="form-control" id="name" placeholder="Enter Your name" required>
                        </div>
                        <div class="col-md-6">
                          <label for="email">Email</label>
                          <input type="text" class="form-control" id="email" placeholder="Email" required>
                        </div>
                        <div class="col-md-12">
                          <label for="review">Review Title</label>
                          <input type="text" class="form-control" id="review" placeholder="Enter your Review Subjects" required>
                        </div>
                        <div class="col-md-12">
                          <label for="review">Review Title</label>
                          <textarea class="form-control" placeholder="Wrire Your Testimonial Here" id="exampleFormControlTextarea1" rows="6"></textarea>
                        </div>
                        <div class="col-md-12">
                          <button class="btn btn-solid" type="submit">Submit YOur Review</button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </section>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Section ends -->
<!-- Modal size chart -->
<div class="modal fade" id="sizemodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" *ngIf="product">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{ product.name }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img src="assets/images/size-chart.jpg" alt="" class="img-fluid">
       </div>
      </div>
    </div>
  </div>
